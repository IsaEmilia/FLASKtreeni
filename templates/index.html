{% extends 'base.html' %}

{% block head %}
<title>Todo List</title>
{% endblock %}


{% block body %}
<div class="page">
    <div class="header"> <!--Header where current user and dashboard / log out buttons are displayed-->
        <p class="loggedinas">Logged in as: {{current_user.username}}</p>
            <ul>
                <li><a class="headbutt" href="{{url_for('logout')}}"> Log Out </a></li>
                <li> <a class="headbutt" href="{{ url_for('dashboard')}}">Dashboard</a></li>
            </ul>
    </div>
    <div class="content">
        <h1>To Do</h1>
        {% if tasks|length < 1 %} <!--show the message below if there is no tasks / todo list-->
        <h4>Add a note to dispaly on todo table</h4>

        {% else %}
        {% if tasks.completed %}
        {% endif %}

        <table>
            <tr>
                <th>Task</th>
                <th>Added</th>  
                <th>Actions</th>
            </tr>
            {% for task in tasks %} <!--Get tasks from database and display them in a table-->
                <tr>
                    <td>{{ task.content }}</td>
                    <td>{{ task.date_created.date() }}</td>
                    <td class="buttons">
                        <a href="/delete/{{task.id}}">&#10008;</a>
                        <a href="/update/{{task.id}}">&#10000;</a>
                    </td>  
                </tr>

            {% endfor %}
        </table>
        {% endif %}
        <br>
        <div class="form"> <!--Form for adding new tasks, empty entries are not allowed-->
            <form action="/"method="POST">
                <input type="text" name="content" id="content" required>
                <input id="submit" type="submit" value="&#10148;">
            </form>
        </div>

        <footer>
           <p> footer </p>
        </footer>
</div>


</div>
{% endblock %}